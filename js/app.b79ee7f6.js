(function(){"use strict";var o={9608:function(o,a,t){var e=t(9242),r=t(3396);const s={id:"app",class:"container"},i=(0,r._)("div",{class:"row"},[(0,r._)("div",{class:"col-md-12 nt-2"},[(0,r._)("h3",null,"GESTIÓN CLIENTES")])],-1),n={class:"row"},u={class:"col-md-12"};function l(o,a,t,e,l,d){const c=(0,r.up)("formulario-usuario"),m=(0,r.up)("tabla-usuarios");return(0,r.wg)(),(0,r.iD)("div",s,[i,(0,r._)("div",n,[(0,r._)("div",u,[(0,r.Wm)(c,{onAltaUsuario:d.postUsuario},null,8,["onAltaUsuario"]),(0,r.Wm)(m,{usuarios:l.usuarios,onEliminarusuario:d.deleteUsuario,onEditarUsuario:o.editarusuario,onCancelarEdicion:o.cancelaredicion,onActualizarusuario:d.putusuario},null,8,["usuarios","onEliminarusuario","onEditarUsuario","onCancelarEdicion","onActualizarusuario"])])])])}var d=t(7139);const c={id:"tabla-usuarios"},m={key:0,class:"alert alert-info",role:"alert"},p={class:"table"},h=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"ID"),(0,r._)("th",null,"Nombre de Usuario"),(0,r._)("th",null,"Nombre"),(0,r._)("th",null,"Email"),(0,r._)("th",null,"Ciudad"),(0,r._)("th"),(0,r._)("th")])],-1),v={key:0},f={key:1},y={key:2},_=["onUpdate:modelValue"],b={key:3},w={key:4},g=["onUpdate:modelValue"],E={key:5},U={key:6},k=["onUpdate:modelValue"],C={key:7},D={key:8},I=["onUpdate:modelValue"],O={key:9},j={key:10},x=["onClick"],F=["onClick"],V={key:11},z=["onClick"],T=["onClick"];function N(o,a,t,s,i,n){return(0,r.wg)(),(0,r.iD)("div",c,[t.usuarios.length?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",m," No existen usuarios. ")),(0,r._)("table",p,[h,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.usuarios,(a=>((0,r.wg)(),(0,r.iD)("tr",{key:a.id},[i.editando===a.id?((0,r.wg)(),(0,r.iD)("td",v,[(0,r._)("label",null,(0,d.zw)(a.id),1)])):((0,r.wg)(),(0,r.iD)("td",f,(0,d.zw)(a.id),1)),i.editando===a.id?((0,r.wg)(),(0,r.iD)("td",y,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.username=o},null,8,_),[[e.nr,a.username]])])):((0,r.wg)(),(0,r.iD)("td",b,(0,d.zw)(a.username),1)),i.editando===a.id?((0,r.wg)(),(0,r.iD)("td",w,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.name=o},null,8,g),[[e.nr,a.name]])])):((0,r.wg)(),(0,r.iD)("td",E,(0,d.zw)(a.name),1)),i.editando===a.id?((0,r.wg)(),(0,r.iD)("td",U,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.email=o},null,8,k),[[e.nr,a.email]])])):((0,r.wg)(),(0,r.iD)("td",C,(0,d.zw)(a.email),1)),i.editando===a.id?((0,r.wg)(),(0,r.iD)("td",D,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.city=o},null,8,I),[[e.nr,a.city]])])):((0,r.wg)(),(0,r.iD)("td",O,(0,d.zw)(a.city),1)),i.editando===a.id?((0,r.wg)(),(0,r.iD)("td",j,[(0,r._)("button",{class:"btn btn-success btn-sm",onClick:o=>n.actualizarusuario(a)},"💾Guardar",8,x),(0,r._)("button",{class:"btn btn-secondary btn-sm",onClick:o=>n.cancelaredicion(a)},"❌Cancelar",8,F)])):((0,r.wg)(),(0,r.iD)("td",V,[(0,r._)("button",{class:"btn btn-primary btn-sm",onClick:o=>n.editarusuario(a)},"✏Editar",8,z),(0,r._)("button",{class:"btn btn-danger btn-sm",onClick:t=>o.$emit("eliminarusuario",a)},"🗑️Eliminar",8,T)]))])))),128))])])])}var A={name:"tabla-usuarios",props:{usuarios:Array},data(){return{editando:null}},methods:{editarusuario(o){this.usuarioEditado=Object.assign({},o),this.editando=o.id},cancelaredicion(o){Object.assign(o,this.usuarioEditado),this.editando=null},actualizarusuario(o){o.name.length&&o.username.length&&o.city.length&&o.email.length&&(this.$emit("actualizarusuario",o),this.editando=null)}}},K=t(89);const S=(0,K.Z)(A,[["render",N]]);var $=S;const P={id:"formulario-usuario"},q={class:"container"},Z={class:"row"},G={class:"col-md-2"},J={class:"form-group"},L=(0,r._)("label",null,"Nombre Usuario",-1),M={class:"col-md-3"},W={class:"form-group"},H=(0,r._)("label",null,"Nombre",-1),Y={class:"col-md-3"},B={class:"form-group"},Q=(0,r._)("label",null,"Email",-1),R={class:"col-md-2"},X={class:"form-group"},oo=(0,r._)("label",null,"Ciudad",-1),ao={class:"col-md-2"},to={class:"form-group"},eo=(0,r._)("label",null,"Telefono",-1),ro=(0,r._)("div",{class:"row"},[(0,r._)("div",{class:"col-md-12"},[(0,r._)("div",{class:"form-group"},[(0,r._)("button",{class:"btn btn-primary"},"Alta Usuario")])])],-1),so={class:"container"},io={class:"row"},no={class:"col-md-12"},uo={key:0,class:"alert alert-danger",role:"alert"},lo={key:1,class:"alert alert-success",role:"alert"};function co(o,a,t,s,i,n){return(0,r.wg)(),(0,r.iD)("div",P,[(0,r._)("form",{onSubmit:a[15]||(a[15]=(0,e.iM)(((...o)=>n.enviarForm&&n.enviarForm(...o)),["prevent"]))},[(0,r._)("div",q,[(0,r._)("div",Z,[(0,r._)("div",G,[(0,r._)("div",J,[L,(0,r.wy)((0,r._)("input",{ref:"username","onUpdate:modelValue":a[0]||(a[0]=o=>i.usuario.username=o),type:"text",class:(0,d.C_)(["form-control",{"is-valid":i.procesando&&n.usernameInvalido}]),onFocus:a[1]||(a[1]=(...o)=>n.resetEstado&&n.resetEstado(...o)),onKeypress:a[2]||(a[2]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[e.nr,i.usuario.username]])])]),(0,r._)("div",M,[(0,r._)("div",W,[H,(0,r.wy)((0,r._)("input",{ref:"name","onUpdate:modelValue":a[3]||(a[3]=o=>i.usuario.name=o),type:"text",class:(0,d.C_)(["form-control",{"is-valid":i.procesando&&n.nameInvalido}]),onFocus:a[4]||(a[4]=(...o)=>n.resetEstado&&n.resetEstado(...o)),onKeypress:a[5]||(a[5]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[e.nr,i.usuario.name]])])]),(0,r._)("div",Y,[(0,r._)("div",B,[Q,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":a[6]||(a[6]=o=>i.usuario.email=o),type:"email",class:(0,d.C_)(["form-control",{"is-valid":i.procesando&&n.emailInvalido}]),onFocus:a[7]||(a[7]=(...o)=>n.resetEstado&&n.resetEstado(...o)),onKeypress:a[8]||(a[8]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[e.nr,i.usuario.email]])])]),(0,r._)("div",R,[(0,r._)("div",X,[oo,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":a[9]||(a[9]=o=>i.usuario.city=o),type:"text",class:(0,d.C_)(["form-control",{"is-valid":i.procesando&&n.ciudadInvalido}]),onFocus:a[10]||(a[10]=(...o)=>n.resetEstado&&n.resetEstado(...o)),onKeypress:a[11]||(a[11]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[e.nr,i.usuario.city]])])]),(0,r._)("div",ao,[(0,r._)("div",to,[eo,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":a[12]||(a[12]=o=>i.usuario.phone=o),type:"text",class:(0,d.C_)(["form-control",{"is-valid":i.procesando&&n.phoneInvalido}]),onFocus:a[13]||(a[13]=(...o)=>n.resetEstado&&n.resetEstado(...o)),onKeypress:a[14]||(a[14]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[e.nr,i.usuario.phone]])])])]),ro]),(0,r._)("div",so,[(0,r._)("div",io,[(0,r._)("div",no,[i.error&&i.procesando?((0,r.wg)(),(0,r.iD)("div",uo," Debes cubrir todos los campos. ")):(0,r.kq)("",!0),o.correct?((0,r.wg)(),(0,r.iD)("div",lo," Usuario dado de alta correctamente. ")):(0,r.kq)("",!0)])])])],32)])}var mo={name:"FormularioUsuario",data(){return{procesando:!1,correcto:!1,error:!1,usuario:{id:"",username:"",name:"",email:"",city:"",phone:""}}},methods:{enviarForm(){this.procesando=!0,this.resetEstado(),this.nameInvalido||this.emailInvalido||this.phoneInvalido?this.error=!0:(this.$emit("alta-usuario",this.usuario),this.$refs.name.focus(),this.error=!1,this.correcto=!0,this.procesando=!1,this.usuario={id:"",username:"",name:"",email:"",city:"",phone:""})},resetEstado(){this.correcto=!1,this.error=!1}},computed:{usernameInvalido(){return this.usuario.username.length<1},nameInvalido(){return this.usuario.name.length<1},emailInvalido(){return this.usuario.email.length<1},ciudadInvalido(){return this.usuario.city.length<1},phoneInvalido(){return this.usuario.phone.length<1}}};const po=(0,K.Z)(mo,[["render",co]]);var ho=po,vo={name:"App",components:{FormularioUsuario:ho,TablaUsuarios:$},data(){return{usuarios:[]}},methods:{async postUsuario(o){try{const a=await fetch("http://localhost:3000/usuarios",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charser=UTF-8"}}),t=await a.json();this.usuarios=[...this.usuarios,t]}catch(a){console.error(a)}},async getUsuarios(){try{const o=await fetch("http://localhost:3000/usuarios");this.usuarios=await o.json()}catch(o){console.log("Error en get usuarios: ",o)}},async deleteUsuario(o){try{await fetch(`http://localhost:3000/usuarios/${o.id}`,{method:"DELETE"}),this.usuarios=this.usuarios.filter((a=>a.id!==o.id))}catch(a){console.error("Error en borrar usuario: ",a)}},async putusuario(o){try{const a=await fetch(`http://localhost:3000/usuarios/${o.id}`,{method:"PUT",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),t=await a.json();this.usuarios=this.usuarios.map((a=>a.id===o.id?t:a))}catch(a){console.error(a)}}},mounted(){this.getUsuarios()}};const fo=(0,K.Z)(vo,[["render",l]]);var yo=fo;(0,e.ri)(yo).mount("#app")}},a={};function t(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={exports:{}};return o[e](s,s.exports,t),s.exports}t.m=o,function(){var o=[];t.O=function(a,e,r,s){if(!e){var i=1/0;for(d=0;d<o.length;d++){e=o[d][0],r=o[d][1],s=o[d][2];for(var n=!0,u=0;u<e.length;u++)(!1&s||i>=s)&&Object.keys(t.O).every((function(o){return t.O[o](e[u])}))?e.splice(u--,1):(n=!1,s<i&&(i=s));if(n){o.splice(d--,1);var l=r();void 0!==l&&(a=l)}}return a}s=s||0;for(var d=o.length;d>0&&o[d-1][2]>s;d--)o[d]=o[d-1];o[d]=[e,r,s]}}(),function(){t.n=function(o){var a=o&&o.__esModule?function(){return o["default"]}:function(){return o};return t.d(a,{a:a}),a}}(),function(){t.d=function(o,a){for(var e in a)t.o(a,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:a[e]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){t.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}(),function(){var o={143:0};t.O.j=function(a){return 0===o[a]};var a=function(a,e){var r,s,i=e[0],n=e[1],u=e[2],l=0;if(i.some((function(a){return 0!==o[a]}))){for(r in n)t.o(n,r)&&(t.m[r]=n[r]);if(u)var d=u(t)}for(a&&a(e);l<i.length;l++)s=i[l],t.o(o,s)&&o[s]&&o[s][0](),o[s]=0;return t.O(d)},e=self["webpackChunkprojvuerest"]=self["webpackChunkprojvuerest"]||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))}();var e=t.O(void 0,[998],(function(){return t(9608)}));e=t.O(e)})();
//# sourceMappingURL=app.b79ee7f6.js.map